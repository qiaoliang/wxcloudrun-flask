# 功能集成测试环境变量配置
# 使用Docker内部MySQL数据库

# ===== 数据库基础配置 =====
# Docker内部MySQL数据库配置
MYSQL_ADDRESS=mysql-db:3306  # Docker内部服务名
MYSQL_USERNAME=root
MYSQL_PASSWORD=rootpassword  # 与mysql-db容器的MYSQL_ROOT_PASSWORD一致
MYSQL_DATABASE=flask_demo
DB_CONNECTION_TEMPLATE='mysql+pymysql://{username}:{password}@{db_address}/{db_name}?charset=utf8mb4'

DEBUG=true

# ===== 微信小程序测试配置（虚假值，用于测试） =====
WX_APPID=test_appid
WX_SECRET=test_secret

# ===== 安全配置 =====
# JWT token密钥（测试用）
TOKEN_SECRET=42b32662dc4b61c71eb670d01be317cc830974c2fd0bce818a2febe104cd626f
# 手机号码加密密钥（测试用）
PHONE_ENCRYPTION_KEY=phone_encryption_test_key_32_chars

# ===== 数据库连接池配置 =====
DB_POOL_SIZE=5
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true

# ===== 重试和超时配置 =====
DB_RETRY_COUNT=3
DB_RETRY_DELAY=1.0
# 集成测试配置
DOCKER_STARTUP_TIMEOUT=180

# ===== 运行参数配置 =====
# 功能测试启用自动迁移（需要创建表结构）
AUTO_RUN_MIGRATIONS=true
AUTO_CREATE_TABLES=true

# ===== Redis缓存配置 =====
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0